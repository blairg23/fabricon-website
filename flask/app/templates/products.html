{% extends "base.html" %}

{% block menuitems %}
<li class="menuitem"><a href="/">Home</a></li>
<li class="menuitem"><a href="/about">About</a></li>
<li class="menuitem"><a href="/contact">Contact</a></li>
<li class="active menuitem"><a href="/products">Products</a></li>
{% endblock %}

{% block carousel %}
	<!-- Carousel ================================================== -->
	<div id="myCarousel" class="carousel slide" data-ride="carousel">
		<!-- Indicators -->
		<ol class="carousel-indicators">
			{% for image in page.images %}
			<li data-target="#myCarousel" data-slide-to="{{loop.index-1}}" class="{% if loop.index == 1 %} active{% endif %}"></li>
		{% endfor %}
		</ol>
		<div class="carousel-inner" role="listbox">		
			{% for image in page.images %}
				<div class="item{% if loop.index == 1 %} active{% endif %}">
					<img src={{image}} />
				</div>
			{% endfor %}

			<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
				<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
				<span class="sr-only">Previous</span>
			</a>
			<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
				<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
				<span class="sr-only">Next</span>
			</a> 
		</div>
	</div>	
	<!-- /.carousel -->
{% endblock %}

{% block content %}
	<div class="container-fluid">
		<div class="row">
			{% for link in page.links %}
				<div class="col-lg-3 col-md-6 col-sm-12 col-xs-12">
					<h4>{{link.display_name}}</h4>
					<a href="{{link.url}}" class="thumbnail">
						{% if link.images|length > 0 %}
							<img src="{{link.images[0]}}" class="img-responsive">
							<!-- Carousel ================================================== - ->
							<div id="myCarousel" class="carousel-thumbnail slide" data-ride="carousel-thumbnail">
								<!-- Indicators - ->
								<ol class="carousel-indicators">
									{% for image in link.images %}
										<li data-target="#myCarousel" data-slide-to="{{loop.index-1}}" class="{% if loop.index == 1 %} active{% endif %}"></li>
									{% endfor %}
								</ol>
								<div class="carousel-thumbnail-inner" role="listbox">		
									{% for image in link.images %}
										<div class="item{% if loop.index == 1 %} active{% endif %}">
											<img src={{image}} />
										</div>
									{% endfor %}

									<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
										<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
										<span class="sr-only">Previous</span>
									</a>
									<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
										<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
										<span class="sr-only">Next</span>
									</a> 
								</div>
							</div>
							<!-- /.carousel -->
						{% else %}
							<img src="http://placehold.it/350x150" class="img-responsive">
						{% endif %}
						
						<div class="caption">
							lorem gypsum yada yada etc etc
						</div>
					</a>
				</div>
				<div class="clearfix visible-xs-block"></div>
			{% endfor %}
		</div>
	</div>
{% endblock %}

